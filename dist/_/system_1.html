<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #system {
            position: relative;
            background: #000
        }
        #system > * {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
        }
        .orbit {
            border: 2px dashed #FFFFFF;
        }
        .sun {
            background: #FF0;
        }
        .planet {
            background: #CCC;
        }
        .moon-orbit {
            border: 2px dashed #999999;
        }

    </style>
</head>
<body>
    <div id="system"></div>
    <script src="planetary-system.js"></script>
    <script src="config.js"></script>
    <script>

        const $system = document.getElementById('system');
        const config = PlanetaryConfig;

        $system.style.width = config.size.canvas + 'px';
        $system.style.height = config.size.canvas + 'px';




        const _ = {
            1: {
                11: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
                12: [0, 1, 2, 3, 4, 5, 6, 7],
                13: [0, 1, 2, 3, 4, 5, 6, 7],
                14: [0, 1, 2, 3]
            },
            2: {
                21: [0,1,2,3,4]
            },
            3: {
                31: [0,1,2,3,4,5,6],
                32: [0,1,2,3],
                33: [0,1,2,3,4],
                34: [0,1,2,3],
                35: [0,1,2,3,4,5,6,7],
                36: [0,1,2,3,4,5],
                37: [0,1,2]
            },
            4: {
                41: [0,1,2,3,4],
                42: [0,1,2,3,4],
                43: [0,1,2,3]
            }
        }


        const planetSpace = config.size.canvas - config.size.sun - config.size.planet;
        const maxOrbit = Math.max(...config.planets.map(planet => planet.orbit));
        const orbitDist = planetSpace / maxOrbit;

        function append (className, size) {
            const $div = document.createElement('div');
            $div.className = className;
            $div.style.width = size + 'px';
            $div.style.height = size + 'px';
            return $system.appendChild($div);
        }

        for (let i = maxOrbit; i > 0; i--) {
            append('orbit', i * orbitDist + config.size.sun);
        }

        append('sun', config.size.sun);


        for (let i = 0; i < config.planets.length; i++) {
            const x = config.size.sun / 2 + config.planets[i].orbit * orbitDist / 2;
            const $planet = append('planet', config.size.planet);
            $planet.style.transform = `translate(-50%, -50%) translateX(${x}px)`
        }

        const moonSpace = orbitDist - config.size.planet - config.size.moon;

        const $moonOrbit = append('moon-orbit', moonSpace);
        $moonOrbit.style.transform = `translate(-50%, -50%) translateX(${config.size.sun / 2 + config.planets[0].orbit * orbitDist / 2}px)`

        // for (let i = maxOrbit; i > 0; i--) {
        //     append('orbit', i * orbitDist + config.size.sun);
        // }

        // const orbits = [
        //
        // ]



    </script>

</body>
</html>